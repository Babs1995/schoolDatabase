{"ast":null,"code":"var _jsxFileName = \"/Users/brojasbaez/Desktop/schoolDatabase/client/src/components/CreateCourse.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Buffer } from 'buffer';\nimport Form from './Form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateCourse(_ref) {\n  _s();\n\n  let {\n    context\n  } = _ref;\n  let history = useNavigate();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [estimatedTime, setEstimatedTime] = useState('');\n  const [materialsNeeded, setMaterialsNeeded] = useState('');\n  const [errors, setErrors] = useState([]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        cancel: cancel,\n        errors: errors,\n        submit: submit,\n        submitButtonText: \"Create Course\",\n        elements: () => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main--flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"title\",\n                children: \"Course Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 28,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"title\",\n                name: \"title\",\n                type: \"text\",\n                value: title,\n                onChange: change\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 29,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"By \", context.authUser.firstName, \" \", context.authUser.lastName, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"description\",\n                children: \"Course Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"description\",\n                name: \"description\",\n                value: description,\n                onChange: change\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"estimatedTime\",\n                children: \"Estimated Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"estimatedTime\",\n                name: \"estimatedTime\",\n                type: \"text\",\n                value: estimatedTime,\n                onChange: change\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 43,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"materialsNeeded\",\n                children: \"Materials Needed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"materialsNeeded\",\n                name: \"materialsNeeded\",\n                value: materialsNeeded,\n                onChange: change\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }, this);\n\n  function cancel() {\n    history.push('/courses');\n  }\n\n  function submit() {\n    const course = {\n      title,\n      description,\n      estimatedTime,\n      materialsNeeded,\n      userId: context.authUser.id\n    };\n    const body = JSON.stringify(course); // Creates errors to display on page\n\n    let myErrors = [];\n\n    if (!title || !description) {\n      if (!title) {\n        myErrors.push(['Please provide a value for \"Title\".']);\n        setErrors(myErrors);\n      }\n\n      if (!description) {\n        myErrors.push(['Please provide a value for \"Description\".']);\n        setErrors(myErrors);\n      }\n    } else {\n      fetch(\"http://localhost:5000/api/courses\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Basic ' + Buffer.from(`${context.authUser.emailAddress}:${context.authUser.password}`).toString(\"base64\")\n        },\n        body: body\n      }).then(response => {\n        if (response.status === 201) {} else if (response.status === 400) {\n          response.json().then(data => {\n            return {\n              errors: [data.errors]\n            };\n          });\n        } else if (response.status === 500) {\n          history.push('/error');\n        } else {\n          throw new Error();\n        }\n      }); // history.push('/courses');\n    }\n  }\n\n  function change(event) {\n    const name = event.target.name;\n    const value = event.target.value;\n\n    if (name === 'title') {\n      setTitle(value);\n    } else if (name === 'description') {\n      setDescription(value);\n    } else if (name === 'estimatedTime') {\n      setEstimatedTime(value);\n    } else if (name === 'materialsNeeded') {\n      setMaterialsNeeded(value);\n    } else {\n      return;\n    }\n  }\n}\n\n_s(CreateCourse, \"vdKDs8m5w+HH2cdeYM67KeIlpOE=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CreateCourse;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateCourse\");","map":{"version":3,"names":["React","useState","useNavigate","Buffer","Form","CreateCourse","context","history","title","setTitle","description","setDescription","estimatedTime","setEstimatedTime","materialsNeeded","setMaterialsNeeded","errors","setErrors","cancel","submit","change","authUser","firstName","lastName","push","course","userId","id","body","JSON","stringify","myErrors","fetch","method","headers","from","emailAddress","password","toString","then","response","status","json","data","Error","event","name","target","value"],"sources":["/Users/brojasbaez/Desktop/schoolDatabase/client/src/components/CreateCourse.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Buffer } from 'buffer';\nimport Form from './Form';\n\nexport default function CreateCourse({context}) {\n\n    let history = useNavigate();\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [estimatedTime, setEstimatedTime] = useState('');\n    const [materialsNeeded, setMaterialsNeeded] = useState('');\n    const [errors, setErrors] = useState([]);\n\n    return (\n        <main>\n            <div className=\"wrap\">\n                <h2>Create Course</h2>\n                <Form\n                    cancel={cancel}\n                    errors={errors}\n                    submit={submit}\n                    submitButtonText=\"Create Course\"\n                    elements={() => (\n                        <React.Fragment>\n                            <div className=\"main--flex\">\n                                <div>\n                                    <label htmlFor=\"title\">Course Title</label>\n                                        <input \n                                            id=\"title\" \n                                            name=\"title\" \n                                            type=\"text\" \n                                            value={title} \n                                            onChange={change}\n                                        />\n                                    <p>By {context.authUser.firstName} {context.authUser.lastName} </p> \n                                    <label htmlFor=\"description\">Course Description</label>\n                                        <textarea id=\"description\" name=\"description\" value={description} onChange={change}></textarea>\n                                </div>\n\n                                <div>\n                                    <label htmlFor=\"estimatedTime\">Estimated Time</label>\n                                        <input id=\"estimatedTime\" name=\"estimatedTime\" type=\"text\" value={estimatedTime} onChange={change} />\n\n                                    <label htmlFor=\"materialsNeeded\">Materials Needed</label>\n                                        <textarea id=\"materialsNeeded\" name=\"materialsNeeded\" value={materialsNeeded} onChange={change}></textarea>\n                                </div>\n                            </div>\n                        </React.Fragment>\n                    )} \n                />\n            </div>\n        </main>\n    );\n\n    function cancel() {\n        history.push('/courses');\n    }\n\n    function submit() {\n        const course = {\n          title,\n          description,\n          estimatedTime,\n          materialsNeeded,\n          userId: context.authUser.id\n        };\n\n        const body = JSON.stringify(course);\n        // Creates errors to display on page\n        let myErrors = [];\n        if(!title || !description) {\n            if (!title) {\n                myErrors.push(['Please provide a value for \"Title\".']);\n                setErrors(myErrors);\n            }\n            if (!description) {\n                myErrors.push(['Please provide a value for \"Description\".'])\n                setErrors(myErrors);\n            }\n        } else {\n            fetch(\"http://localhost:5000/api/courses\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" ,\n                        'Authorization': 'Basic ' + Buffer.from(`${context.authUser.emailAddress}:${context.authUser.password}`).toString(\"base64\") \n                },\n                body: body\n            })\n                .then( response => {\n                    if (response.status === 201) {\n                    } else if (response.status === 400){\n                        response.json().then(data => {\n                            return {errors: [data.errors]};\n                        });\n                    } else if (response.status === 500) {\n                        history.push('/error');\n                    } else {\n                        throw new Error();\n                    }\n                })\n            // history.push('/courses');\n        }\n    }  \n\n    function change(event) {\n        const name = event.target.name;\n        const value = event.target.value;\n        if (name === 'title') {\n            setTitle(value);\n        }\n        else if (name === 'description') {\n            setDescription(value);\n        }\n        else if (name === 'estimatedTime') {\n            setEstimatedTime(value);\n        } else if (name === 'materialsNeeded') {\n            setMaterialsNeeded(value);\n        }\n        else {\n            return;\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}