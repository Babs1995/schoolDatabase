{"ast":null,"code":"var _jsxFileName = \"/Users/brojasbaez/Desktop/schoolDatabase/client/src/components/CourseDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Buffer } from \"buffer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CourseDetail() {\n  _s();\n\n  let history = useNavigate();\n  const context = useContext(context.Context);\n  const [course, setCourse] = useState([]);\n  const {\n    id\n  } = useParams(); // Fetches course information for this id.\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/api/courses/${id}`);\n\n        if (response.status === 200) {\n          const json = await response.json();\n          setCourse(json);\n        } else if (response.status === 500) {\n          history.push(\"/error\");\n        } else {\n          history.push(\"/notfound\");\n        }\n      } catch (err) {\n        console.log(\"error\", err);\n      }\n    };\n\n    fetchData();\n  }, [id, history]); //** Renders the HTML **/\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions--bar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap\",\n        children: context.authUser && course.user ? context.authUSer.id === course.user.id ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"button\",\n            to: `/courses/${id}/updated`,\n            children: \"Update Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"button\",\n            to: \"/courses/\",\n            onClick: deleteACourse,\n            children: \"Delete Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"button button-secondary\",\n            to: \"/courses\",\n            children: \"Return to List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Link, {\n          className: \"button button-secondary\",\n          to: \"/courses\",\n          children: \"Return to List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Link, {\n          className: \"button button-secondary\",\n          to: \"/courses\",\n          children: \"Return to List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Course Detail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main--flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"course--detail--title\",\n              children: \"Course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"course--name\",\n              children: course.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), course.user && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"By \", course.user.firstName, \" \", course.user.lastName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n              children: course.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"course--detail--title\",\n              children: \"Estimated Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: course.estimatedTime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"course--detail--title\",\n              children: \"Materials Needed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n              className: \"course--detail--list\",\n              children: course.materialsNeeded\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this); //**  HELPER FUNCTION **//\n  // Deletes a course when the button is pressed IF\n  // the user is authenticated and the owner of the course.\n\n  function deleteACourse() {\n    fetch(`http://localhost:5000/api/courses/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Basic \" + Buffer.from(`${context.authUser.emailAddress}:${context.authUser.password}`).toString(\"base64\")\n      },\n      body: null\n    }).then(response => {\n      if (response.status === 204) {\n        console.log(\"Course was deleted!\");\n      } else if (response.status === 400) {\n        response.json().then(data => {\n          return data.errors;\n        });\n      } else {\n        throw new Error();\n      }\n    });\n  }\n}\n\n_s(CourseDetail, \"LJVO7UO7QiABJNGswx7cqTNIMXs=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = CourseDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"CourseDetail\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Link","useParams","useNavigate","ReactMarkdown","Buffer","CourseDetail","history","context","Context","course","setCourse","id","fetchData","response","fetch","status","json","push","err","console","log","authUser","user","authUSer","deleteACourse","title","firstName","lastName","description","estimatedTime","materialsNeeded","method","headers","Authorization","from","emailAddress","password","toString","body","then","data","errors","Error"],"sources":["/Users/brojasbaez/Desktop/schoolDatabase/client/src/components/CourseDetail.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Buffer } from \"buffer\";\n\nexport default function CourseDetail() {\n  let history = useNavigate();\n  const context = useContext(context.Context);\n  const [course, setCourse] = useState([]);\n  const { id } = useParams();\n\n  // Fetches course information for this id.\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/api/courses/${id}`);\n        if (response.status === 200) {\n          const json = await response.json();\n          setCourse(json);\n        } else if (response.status === 500) {\n          history.push(\"/error\");\n        } else {\n          history.push(\"/notfound\");\n        }\n      } catch (err) {\n        console.log(\"error\", err);\n      }\n    };\n    fetchData();\n  }, [id, history]);\n\n  //** Renders the HTML **/\n  return (\n    <main>\n      {/* Displays Update, Delete and Return to List buttons if user is authenticated\n            and user is owner of course. Only displays Return to List button if the previous \n            conditions don't apply. */}\n      <div className=\"actions--bar\">\n        <div className=\"wrap\">\n          {context.authUser && course.user ? (\n            context.authUSer.id === course.user.id ? (\n              <React.Fragment>\n                <Link className=\"button\" to={`/courses/${id}/updated`}>\n                  Update Course\n                </Link>\n                <Link className=\"button\" to=\"/courses/\" onClick={deleteACourse}>\n                  Delete Course\n                </Link>\n                <Link className=\"button button-secondary\" to=\"/courses\">\n                  Return to List\n                </Link>\n              </React.Fragment>\n            ) : (\n              <Link className=\"button button-secondary\" to=\"/courses\">\n                Return to List\n              </Link>\n            )\n          ) : (\n            <Link className=\"button button-secondary\" to=\"/courses\">\n              Return to List\n            </Link>\n          )}\n        </div>\n      </div>\n      {/* Displays the information about the course. */}\n      <div className=\"wrap\">\n        <h2>Course Detail</h2>\n        <form>\n          <div className=\"main--flex\">\n            <div>\n              <h3 className=\"course--detail--title\">Course</h3>\n              <h4 className=\"course--name\">{course.title}</h4>\n              {course.user && (\n                <p>\n                  By {course.user.firstName} {course.user.lastName}\n                </p>\n              )}\n              <ReactMarkdown>{course.description}</ReactMarkdown>\n            </div>\n            <div>\n              <h3 className=\"course--detail--title\">Estimated Time</h3>\n              <p>{course.estimatedTime}</p>\n              <h3 className=\"course--detail--title\">Materials Needed</h3>\n              <ReactMarkdown className=\"course--detail--list\">\n                {course.materialsNeeded}\n              </ReactMarkdown>\n            </div>\n          </div>\n        </form>\n      </div>\n    </main>\n  );\n\n  //**  HELPER FUNCTION **//\n  // Deletes a course when the button is pressed IF\n  // the user is authenticated and the owner of the course.\n  function deleteACourse() {\n    fetch(`http://localhost:5000/api/courses/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization:\n          \"Basic \" +\n          Buffer.from(\n            `${context.authUser.emailAddress}:${context.authUser.password}`\n          ).toString(\"base64\"),\n      },\n      body: null,\n    }).then((response) => {\n      if (response.status === 204) {\n        console.log(\"Course was deleted!\");\n      } else if (response.status === 400) {\n        response.json().then((data) => {\n          return data.errors;\n        });\n      } else {\n        throw new Error();\n      }\n    });\n  }\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,WAA1B,QAA6C,kBAA7C;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,SAASC,MAAT,QAAuB,QAAvB;;AAEA,eAAe,SAASC,YAAT,GAAwB;EAAA;;EACrC,IAAIC,OAAO,GAAGJ,WAAW,EAAzB;EACA,MAAMK,OAAO,GAAGR,UAAU,CAACQ,OAAO,CAACC,OAAT,CAA1B;EACA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM;IAAEc;EAAF,IAASV,SAAS,EAAxB,CAJqC,CAMrC;;EACAH,SAAS,CAAC,MAAM;IACd,MAAMc,SAAS,GAAG,YAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,qCAAoCH,EAAG,EAAzC,CAA5B;;QACA,IAAIE,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;UAC3B,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACG,IAAT,EAAnB;UACAN,SAAS,CAACM,IAAD,CAAT;QACD,CAHD,MAGO,IAAIH,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;UAClCT,OAAO,CAACW,IAAR,CAAa,QAAb;QACD,CAFM,MAEA;UACLX,OAAO,CAACW,IAAR,CAAa,WAAb;QACD;MACF,CAVD,CAUE,OAAOC,GAAP,EAAY;QACZC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;MACD;IACF,CAdD;;IAeAN,SAAS;EACV,CAjBQ,EAiBN,CAACD,EAAD,EAAKL,OAAL,CAjBM,CAAT,CAPqC,CA0BrC;;EACA,oBACE;IAAA,wBAIE;MAAK,SAAS,EAAC,cAAf;MAAA,uBACE;QAAK,SAAS,EAAC,MAAf;QAAA,UACGC,OAAO,CAACc,QAAR,IAAoBZ,MAAM,CAACa,IAA3B,GACCf,OAAO,CAACgB,QAAR,CAAiBZ,EAAjB,KAAwBF,MAAM,CAACa,IAAP,CAAYX,EAApC,gBACE,QAAC,KAAD,CAAO,QAAP;UAAA,wBACE,QAAC,IAAD;YAAM,SAAS,EAAC,QAAhB;YAAyB,EAAE,EAAG,YAAWA,EAAG,UAA5C;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAIE,QAAC,IAAD;YAAM,SAAS,EAAC,QAAhB;YAAyB,EAAE,EAAC,WAA5B;YAAwC,OAAO,EAAEa,aAAjD;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAJF,eAOE,QAAC,IAAD;YAAM,SAAS,EAAC,yBAAhB;YAA0C,EAAE,EAAC,UAA7C;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAPF;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,gBAaE,QAAC,IAAD;UAAM,SAAS,EAAC,yBAAhB;UAA0C,EAAE,EAAC,UAA7C;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAdH,gBAmBC,QAAC,IAAD;UAAM,SAAS,EAAC,yBAAhB;UAA0C,EAAE,EAAC,UAA7C;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MApBJ;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAJF,eAgCE;MAAK,SAAS,EAAC,MAAf;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,uBACE;UAAK,SAAS,EAAC,YAAf;UAAA,wBACE;YAAA,wBACE;cAAI,SAAS,EAAC,uBAAd;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADF,eAEE;cAAI,SAAS,EAAC,cAAd;cAAA,UAA8Bf,MAAM,CAACgB;YAArC;cAAA;cAAA;cAAA;YAAA,QAFF,EAGGhB,MAAM,CAACa,IAAP,iBACC;cAAA,kBACMb,MAAM,CAACa,IAAP,CAAYI,SADlB,OAC8BjB,MAAM,CAACa,IAAP,CAAYK,QAD1C;YAAA;cAAA;cAAA;cAAA;YAAA,QAJJ,eAQE,QAAC,aAAD;cAAA,UAAgBlB,MAAM,CAACmB;YAAvB;cAAA;cAAA;cAAA;YAAA,QARF;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAWE;YAAA,wBACE;cAAI,SAAS,EAAC,uBAAd;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADF,eAEE;cAAA,UAAInB,MAAM,CAACoB;YAAX;cAAA;cAAA;cAAA;YAAA,QAFF,eAGE;cAAI,SAAS,EAAC,uBAAd;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAHF,eAIE,QAAC,aAAD;cAAe,SAAS,EAAC,sBAAzB;cAAA,UACGpB,MAAM,CAACqB;YADV;cAAA;cAAA;cAAA;YAAA,QAJF;UAAA;YAAA;YAAA;YAAA;UAAA,QAXF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAhCF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF,CA3BqC,CAwFrC;EACA;EACA;;EACA,SAASN,aAAT,GAAyB;IACvBV,KAAK,CAAE,qCAAoCH,EAAG,EAAzC,EAA4C;MAC/CoB,MAAM,EAAE,QADuC;MAE/CC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EACX,WACA7B,MAAM,CAAC8B,IAAP,CACG,GAAE3B,OAAO,CAACc,QAAR,CAAiBc,YAAa,IAAG5B,OAAO,CAACc,QAAR,CAAiBe,QAAS,EADhE,EAEEC,QAFF,CAEW,QAFX;MAJK,CAFsC;MAU/CC,IAAI,EAAE;IAVyC,CAA5C,CAAL,CAWGC,IAXH,CAWS1B,QAAD,IAAc;MACpB,IAAIA,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;QAC3BI,OAAO,CAACC,GAAR,CAAY,qBAAZ;MACD,CAFD,MAEO,IAAIP,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;QAClCF,QAAQ,CAACG,IAAT,GAAgBuB,IAAhB,CAAsBC,IAAD,IAAU;UAC7B,OAAOA,IAAI,CAACC,MAAZ;QACD,CAFD;MAGD,CAJM,MAIA;QACL,MAAM,IAAIC,KAAJ,EAAN;MACD;IACF,CArBD;EAsBD;AACF;;GAnHuBrC,Y;UACRH,W,EAGCD,S;;;KAJOI,Y"},"metadata":{},"sourceType":"module"}