{"ast":null,"code":"var _jsxFileName = \"/Users/brojasbaez/Desktop/schoolDatabase/client/src/Context.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Data from \"./Data\";\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Context = /*#__PURE__*/React.createContext();\nexport const Provider = props => {\n  _s();\n\n  const data = new Data();\n  const cookie = Cookies.get(\"auth-user\");\n  const [authUser] = useState(cookie ? JSON.parse(cookie) : null);\n  const [auth] = useState(authUser ? true : false);\n\n  const signIn = async (emailAddress, password) => {\n    const user = await this.data.getUser(emailAddress, password);\n\n    if (user !== null) {\n      user.password = password;\n      this.setState(() => {\n        return {\n          authUser: user\n        };\n      });\n      Cookies.set(\"auth-user\", JSON.stringify(user), {\n        expires: 1\n      });\n    }\n\n    return user;\n  };\n\n  const signOut = () => {\n    this.setState(() => {\n      return {\n        authUser: null\n      };\n    });\n    Cookies.remove(\"auth-user\");\n  };\n\n  const value = {\n    authUser,\n    auth,\n    data,\n    actions: {\n      signIn,\n      signOut\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: value,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Provider, \"v/5SHKJ3OyZD8OIwyE2L/VJik2c=\");\n\n_c = Provider;\nexport const Consumer = Context.Consumer;\n/**\n * A higher-order component that wraps the provided component in a Context Consumer component.\n * @param {class} Component - A React component.\n * @returns {function} A higher-order component.\n */\n\nexport function withContext(Component) {\n  return function ContextComponent(props) {\n    return /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: context => /*#__PURE__*/_jsxDEV(Component, { ...props,\n        context: context\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  };\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"names":["React","useState","Data","Cookies","Context","createContext","Provider","props","data","cookie","get","authUser","JSON","parse","auth","signIn","emailAddress","password","user","getUser","setState","set","stringify","expires","signOut","remove","value","actions","children","Consumer","withContext","Component","ContextComponent","context"],"sources":["/Users/brojasbaez/Desktop/schoolDatabase/client/src/Context.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Data from \"./Data\";\nimport Cookies from \"js-cookie\";\n\nexport const Context = React.createContext();\n\nexport const Provider = (props) => {\n  const data = new Data();\n  const cookie = Cookies.get(\"auth-user\");\n\n  const [authUser] = useState(cookie ? JSON.parse(cookie) : null);\n  const [auth] = useState(authUser ? true : false);\n\n  const signIn = async (emailAddress, password) => {\n    const user = await this.data.getUser(emailAddress, password);\n    if (user !== null) {\n      user.password = password;\n      this.setState(() => {\n        return {\n          authUser: user,\n        };\n      });\n      Cookies.set(\"auth-user\", JSON.stringify(user), { expires: 1 });\n    }\n    return user;\n  };\n\n  const signOut = () => {\n    this.setState(() => {\n      return {\n        authUser: null,\n      };\n    });\n    Cookies.remove(\"auth-user\");\n  };\n\n  const value = {\n    authUser,\n    auth,\n    data,\n    actions: {\n      signIn,\n      signOut,\n    },\n  };\n\n  return <Context.Provider value={value}>{props.children}</Context.Provider>;\n};\n\nexport const Consumer = Context.Consumer;\n\n/**\n * A higher-order component that wraps the provided component in a Context Consumer component.\n * @param {class} Component - A React component.\n * @returns {function} A higher-order component.\n */\n\nexport function withContext(Component) {\n  return function ContextComponent(props) {\n    return (\n      <Context.Consumer>\n        {(context) => <Component {...props} context={context} />}\n      </Context.Consumer>\n    );\n  };\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,OAAO,MAAMC,OAAO,gBAAGJ,KAAK,CAACK,aAAN,EAAhB;AAEP,OAAO,MAAMC,QAAQ,GAAIC,KAAD,IAAW;EAAA;;EACjC,MAAMC,IAAI,GAAG,IAAIN,IAAJ,EAAb;EACA,MAAMO,MAAM,GAAGN,OAAO,CAACO,GAAR,CAAY,WAAZ,CAAf;EAEA,MAAM,CAACC,QAAD,IAAaV,QAAQ,CAACQ,MAAM,GAAGG,IAAI,CAACC,KAAL,CAAWJ,MAAX,CAAH,GAAwB,IAA/B,CAA3B;EACA,MAAM,CAACK,IAAD,IAASb,QAAQ,CAACU,QAAQ,GAAG,IAAH,GAAU,KAAnB,CAAvB;;EAEA,MAAMI,MAAM,GAAG,OAAOC,YAAP,EAAqBC,QAArB,KAAkC;IAC/C,MAAMC,IAAI,GAAG,MAAM,KAAKV,IAAL,CAAUW,OAAV,CAAkBH,YAAlB,EAAgCC,QAAhC,CAAnB;;IACA,IAAIC,IAAI,KAAK,IAAb,EAAmB;MACjBA,IAAI,CAACD,QAAL,GAAgBA,QAAhB;MACA,KAAKG,QAAL,CAAc,MAAM;QAClB,OAAO;UACLT,QAAQ,EAAEO;QADL,CAAP;MAGD,CAJD;MAKAf,OAAO,CAACkB,GAAR,CAAY,WAAZ,EAAyBT,IAAI,CAACU,SAAL,CAAeJ,IAAf,CAAzB,EAA+C;QAAEK,OAAO,EAAE;MAAX,CAA/C;IACD;;IACD,OAAOL,IAAP;EACD,CAZD;;EAcA,MAAMM,OAAO,GAAG,MAAM;IACpB,KAAKJ,QAAL,CAAc,MAAM;MAClB,OAAO;QACLT,QAAQ,EAAE;MADL,CAAP;IAGD,CAJD;IAKAR,OAAO,CAACsB,MAAR,CAAe,WAAf;EACD,CAPD;;EASA,MAAMC,KAAK,GAAG;IACZf,QADY;IAEZG,IAFY;IAGZN,IAHY;IAIZmB,OAAO,EAAE;MACPZ,MADO;MAEPS;IAFO;EAJG,CAAd;EAUA,oBAAO,QAAC,OAAD,CAAS,QAAT;IAAkB,KAAK,EAAEE,KAAzB;IAAA,UAAiCnB,KAAK,CAACqB;EAAvC;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CAzCM;;GAAMtB,Q;;KAAAA,Q;AA2Cb,OAAO,MAAMuB,QAAQ,GAAGzB,OAAO,CAACyB,QAAzB;AAEP;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,WAAT,CAAqBC,SAArB,EAAgC;EACrC,OAAO,SAASC,gBAAT,CAA0BzB,KAA1B,EAAiC;IACtC,oBACE,QAAC,OAAD,CAAS,QAAT;MAAA,UACI0B,OAAD,iBAAa,QAAC,SAAD,OAAe1B,KAAf;QAAsB,OAAO,EAAE0B;MAA/B;QAAA;QAAA;QAAA;MAAA;IADhB;MAAA;MAAA;MAAA;IAAA,QADF;EAKD,CAND;AAOD"},"metadata":{},"sourceType":"module"}