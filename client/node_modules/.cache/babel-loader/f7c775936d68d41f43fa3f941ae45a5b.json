{"ast":null,"code":"var _jsxFileName = \"/Users/brojasbaez/Desktop/schoolDatabase/client/src/components/CourseDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport ReactMarkdown from 'react-markdown';\nimport { Buffer } from \"buffer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CourseDetail(_ref) {\n  _s();\n\n  let {\n    context\n  } = _ref;\n  let history = useHistory();\n  const [course, setCourse] = useState([]);\n  const {\n    id\n  } = useParams();\n  const authUser = context.authUser; // Fetches course information for this id.\n\n  useEffect(() => {\n    function fetchData() {\n      fetch(`http://localhost:5000/api/courses/${id}`).then(response => response.json()).then(data => setCourse(data.courses)).catch(err => console.log('Oh no! Error. Beep. Beep.', err));\n    }\n\n    fetchData();\n  }); // Deletes course when the button is pressed and user and course owner is authenticated.\n\n  function deleteCourse() {\n    fetch(`http://localhost:5000/api/courses/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': \"Basic \" + Buffer.from(`${authUser.emailAddress}:${authUser.password}`).toString(\"/base64\"),\n        \"Content-Type\": \"application/json\"\n      },\n      body: null\n    }).then(res => res.json()).then(history.push(\"/\")).catch(err => console.log(err));\n  }\n\n  deleteCourse();\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions--bar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap\",\n        children: context.authUser && course.user ? context.authUSer.id === course.user.id ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"button\",\n            to: `/courses/${id}/updated`,\n            children: \"Update Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"button\",\n            to: \"/courses/\",\n            onClick: deleteCourse,\n            children: \"Delete Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"button button-secondary\",\n            to: \"/courses\",\n            children: \"Return to List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Link, {\n          className: \"button button-secondary\",\n          to: \"/courses\",\n          children: \"Return to List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(Link, {\n          className: \"button button-secondary\",\n          to: \"/courses\",\n          children: \"Return to List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Course Detail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main--flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"course--detail--title\",\n              children: \"Course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"course--name\",\n              children: course.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 33\n            }, this), course.user && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"By \", course.user.firstName, \" \", course.user.lastName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n              children: course.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"course--detail--title\",\n              children: \"Estimated Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: course.estimatedTime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"course--detail--title\",\n              children: \"Materials Needed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n              className: \"course--detail--list\",\n              children: course.materialsNeeded\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 13\n  }, this);\n}\n\n_s(CourseDetail, \"7+/kMbNszJUTI2x7cdxmu3OPsIg=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = CourseDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"CourseDetail\");","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","useHistory","ReactMarkdown","Buffer","CourseDetail","context","history","course","setCourse","id","authUser","fetchData","fetch","then","response","json","data","courses","catch","err","console","log","deleteCourse","method","headers","from","emailAddress","password","toString","body","res","push","user","authUSer","title","firstName","lastName","description","estimatedTime","materialsNeeded"],"sources":["/Users/brojasbaez/Desktop/schoolDatabase/client/src/components/CourseDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport ReactMarkdown from 'react-markdown'\nimport { Buffer } from \"buffer\";\n\nexport default function CourseDetail( {context}) {\n\n    let history = useHistory();\n    const [course, setCourse] = useState([]);\n    const { id } = useParams();\n    const authUser = context.authUser;\n    \n    // Fetches course information for this id.\n    useEffect(() => {\n        function fetchData() {\n            fetch(`http://localhost:5000/api/courses/${id}`)\n            .then ((response) => response.json())\n            .then ((data) => setCourse(data.courses))\n            .catch(err => console.log('Oh no! Error. Beep. Beep.', err))\n        }\n            fetchData();\n        });\n\n\n    // Deletes course when the button is pressed and user and course owner is authenticated.\n    function deleteCourse() {\n        fetch(`http://localhost:5000/api/courses/${id}`, { \n            method: 'DELETE',\n            headers: {\n                'Authorization':\n                    \"Basic \" + Buffer.from(`${authUser.emailAddress}:${authUser.password}`).toString(\"/base64\"),\n                \"Content-Type\": \"application/json\"\n            },\n                body: null,\n            }\n            )\n            .then(res => res.json())\n            .then(history.push(\"/\"))\n            .catch(err => console.log(err))\n        } \n        deleteCourse();    \n    return ( \n            <main>\n            {/* Displays Update, Delete and Return to List buttons if user is authenticated\n            and user is owner of course. Only displays Return to List button if the previous \n            conditions don't apply. */}\n                <div className=\"actions--bar\">\n                    <div className=\"wrap\">\n                        {(context.authUser && course.user) ?\n                            (context.authUSer.id===course.user.id) ?\n                                <React.Fragment>\n                                    <Link className=\"button\" to={`/courses/${id}/updated`}>Update Course</Link>\n                                    <Link className=\"button\" to='/courses/' onClick={deleteCourse}>Delete Course</Link>\n                                    <Link className=\"button button-secondary\" to=\"/courses\">Return to List</Link>\n                                </React.Fragment>\n                            : \n                            <Link className=\"button button-secondary\" to=\"/courses\">Return to List</Link>\n                        :\n                        <Link className=\"button button-secondary\" to=\"/courses\">Return to List</Link>\n                        }\n                    </div>\n                </div>\n            {/* Displays the information about the course. */}\n                <div className=\"wrap\">\n                    <h2>Course Detail</h2>\n                    <form>\n                        <div className=\"main--flex\">\n                            <div>\n                                <h3 className=\"course--detail--title\">Course</h3>\n                                <h4 className=\"course--name\">{course.title}</h4>\n                                {course.user && \n                                    (<p>\n                                        By {course.user.firstName} {course.user.lastName}\n                                    </p>\n                                )}\n                                <ReactMarkdown>{course.description}</ReactMarkdown>\n                            </div>\n                            <div>\n                                <h3 className=\"course--detail--title\">Estimated Time</h3>\n                                <p>{course.estimatedTime}</p>\n                                <h3 className=\"course--detail--title\">Materials Needed</h3>\n                                <ReactMarkdown className='course--detail--list'>{course.materialsNeeded}</ReactMarkdown>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </main>\n)}"],"mappings":"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"},"metadata":{},"sourceType":"module"}